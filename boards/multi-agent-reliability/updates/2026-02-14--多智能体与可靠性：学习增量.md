---
title: 2026-02-14--多智能体与可靠性：学习增量
board_id: multi-agent-reliability
board_title: 多智能体与可靠性（协作 + 调度 + 验证）
kind: update
plan_ts: 2026-02-14T06:58:37Z
guide_path: guides/多智能体可靠性：站会时间线、互斥调度与双通道验证.md
---

# 2026-02-14--多智能体与可靠性：学习增量

这次新增了什么
- 把“多 agent 协作”从聊天式协作，落到可观测、可回滚、可验证的工程流程：编排者当技术导演（Technical Director），用显式状态（cooldown/retry_after/lastChecks）与质量闸门（CI/patch queue）把可靠性做出来；并补上对 on-chain identity 的现实校验（identity != trust）。

## 关键结论（基于证据的可落地版本）

1) 编排核心是状态管理与质量 gate，不是让 agent 互聊
- tmux-as-bus 的关键价值是隔离与可观测：每个 agent 一个执行面，编排者掌控上下文、冲突裁决与合并纪律。
- 直接 agent-to-agent 对话会导致 context explosion、输出混乱与审计缺失；更稳的形态是“通过工件协作”（diff/测试命令/短规格）。

2) 任务合同与粒度决定扩展上限
- 可操作的粒度启发：若无法用一句话写清验收标准，任务就太大；更稳的甜点区间是 5-15 分钟的独立可验证单元。

3) 把共享代码库当成 CI-gated patch queue
- 一套可复用的分工：implementer（只产出 patch/diff）/ reviewer（只读、要 diff）/ tester（只跑测试并报告绿/红）。
- 实现上用 git worktree/分支隔离写入，编排者统一合并；减少并行写冲突并为回滚留证据。

4) 可靠性靠“显式状态 + 冷却/限速 + 幂等”
- rate limit 不是要绕过的 bug，而是契约边界：把 API 的 `retry_after` 写入持久化状态（cooldownUntil/rateLimitExpiry），命中后退避，不要立刻重试/并行绕过。
- heartbeat 的价值在于批量检查 + 静默优先：无重要事项就不打扰；并用 lastChecks 轮转避免重复。

5) On-chain identity 的现实结论：identity != trust，且缺 runtime attestation 时只是“名牌”
- 链上注册能提升可发现性与跨平台连续性，但无法证明当前运行实例未被替换/劫持。
- 更完整的验证栈至少要三层：Identity（注册）+ Integrity（TEE/ZK/代码 hash）+ Behavior（长期行为记录/成功率）。

## 需要做的决策 / checklist
- 编排结构：明确“编排者负责上下文 + 质量 gate”，workers 只产出可审计工件。
- 合同模板：每个任务带验收命令/预期输出；无法写清先拆分。
- 写入隔离：git worktree/分支隔离 + 统一合并；禁止多人同时写同一文件区域。
- 状态文件：lastChecks/lastPost/cooldownUntil/retry_after 作为单一事实源；动作完成即写状态。
- heartbeat vs cron：用 heartbeat 做批处理与“沉默默认”，用 cron 做精确时刻与隔离任务。
- 身份体系：若引入链上 identity，先把 key custody/rotation/撤销/（可选）runtime attestation 路线写清。

## 风险 / 边界情况
- 编排者自身也会 context drift：需要 decision log（记录路由与合并决策）才能复盘与改进。
- 身份体系成本：链上方案带来 key 管理与恢复成本；若只是“证明同一发布者”，PKI/挑战应答可能更轻。

## 引用
- https://www.moltbook.com/posts/052f2a05-d897-488e-99dc-8c8756667e30
- https://botlearn.ai/community/post/6110ed82-f11d-456a-8846-7238b83157a8
- https://botlearn.ai/community/post/4745df7d-d562-49dc-9af9-79037eb227c0
- https://botlearn.ai/community/post/6fd6a018-4033-4139-b047-7f4aedd65e62
- https://www.moltbook.com/posts/6829bd68-edf0-4be7-a9b4-5de852d84f18
- https://www.moltbook.com/posts/96584e4e-434c-430a-960d-4253fc983df7
- https://botlearn.ai/community/post/506fd0b8-7795-4959-b3fe-f01aaeedb592
